(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{vFVa:function(t,i,e){"use strict";e.r(i),e.d(i,"SignInModule",function(){return C});var s=e("tyNb"),n=e("ofXK"),a=e("3Pt+"),o=e("OFbc"),r=e("XNiG"),c=e("2Vo4"),l=e("cgPj"),h=e("IzEk"),b=e("lJxs"),u=e("4u49"),d=e("fXoL"),g=e("jhN1"),m=e("tsUD"),p=e("7/fN"),v=e("xOb2"),f=e("sYmb");const L=function(t){return{"button--disabled-click":t}},w=[{path:"",component:(()=>{class t{constructor(t,i,e,s,n,a,o){this.title=t,this.wasm=i,this.native=e,this.state=s,this.storage=n,this.formBuilder=a,this.translate=o,this.Notification=new r.a,this.MatcherFormControl=new l.a,this.AwaitRequest=new c.a(!1),this.FailedOnChange=new c.a(!1)}ngOnInit(){this.SetTitle(),this.CreateFormInit(),void 0===this.HandlleLogin&&(this.HandlleLogin=this.state.Login.subscribe(t=>this.onLOGIN(t))),void 0===this.HandlleOnchangeLangs&&(this.HandlleOnchangeLangs=this.translate.onLangChange.subscribe(()=>this.SetTitle())),this.onChanged()}onChanged(){void 0===this.HandlleLoginForm&&(this.HandlleLoginForm=this.LoginInForm.valueChanges.subscribe(t=>this.LoginInForm.hasError("required","login")?(this.SetOrRemoveErrorClass("login"),void this.Notification.next(this.storage.instant(Object(u.a)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 email")))):t.login.length<5?(this.SetOrRemoveErrorClass("login"),void this.Notification.next(this.storage.instant(Object(u.a)("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 5")))):t.login.length>64?(this.SetOrRemoveErrorClass("login"),void this.Notification.next(this.storage.instant(Object(u.a)("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 64")))):this.LoginInForm.hasError("required","password")?(this.SetOrRemoveErrorClass("password"),void this.Notification.next(this.storage.instant(Object(u.a)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")))):(this.Notification.next(""),void this.SetOrRemoveErrorClass())))}Submited(){const t=this.state.ConnectionState.pipe(Object(h.a)(1),Object(b.a)(t=>2===t));this.HandlleSendLogin=t.subscribe(t=>{t&&(this.wasm.Interact.send("Login",{email_or_username:this.LoginInForm.value.login,password:this.LoginInForm.value.password}),this.AwaitRequest.next(!0))})}onLOGIN(t){var i,e;switch(null!==(i=t.error)&&void 0!==i?i:0){case 0:case 1:this.Notification.next("");break;case 2:case 3:this.Notification.next(Object(u.a)("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"));break;case 4:const i=new Date(Date.now()+(null!==(e=null==t?void 0:t.retry_after)&&void 0!==e?e:0));this.Notification.next(this.storage.instant(Object(u.a)("\u0412\u044b \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e \u043c\u0435\u043d\u044f\u0435\u0442\u0435 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0441\u043b\u0435"),this.DateFormat(i,"%d/%m/%Y - %H:%M:%S",!0)))}this.AwaitRequest.next(!1)}ngOnDestroy(){var t,i,e,s;this.AwaitRequest.unsubscribe(),null===(t=this.HandlleLogin)||void 0===t||t.unsubscribe(),null===(i=this.HandlleSendLogin)||void 0===i||i.unsubscribe(),null===(e=this.HandlleLoginForm)||void 0===e||e.unsubscribe(),null===(s=this.HandlleOnchangeLangs)||void 0===s||s.unsubscribe()}SetOrRemoveErrorClass(t){const i="field--unvalid",e=this.native.nativeElement;if(void 0===t)return void e.querySelectorAll(`.${i}`).forEach(t=>{t.classList.contains(i)&&t.classList.remove(i)});const s=e.querySelector(`#${t}`);null==s||s.classList.contains(i)||s.classList.add(i)}CreateFormInit(){this.LoginInForm=this.formBuilder.group({login:["",this.MatcherFormControl.ValidatorLogin()],password:["",this.MatcherFormControl.ValidatorPasswordLogin]})}DateFormat(t,i,e){return e=e?"getUTC":"get",i.replace(/%[YmdHMS]/g,i=>{switch(i){case"%d":i=t[e+"Date"]();break;case"%m":i=1+t[e+"Month"]();break;case"%Y":return t[e+"FullYear"]();case"%H":i=t[e+"Hours"]();break;case"%M":i=t[e+"Minutes"]();break;case"%S":i=t[e+"Seconds"]();break;default:return i.slice(1)}return("0"+i).slice(-2)})}SetTitle(){this.title.setTitle(this.storage.instant(Object(u.a)("Octarine - \u0412\u043e\u0439\u0442\u0438")))}}return t.\u0275fac=function(i){return new(i||t)(d.Rb(g.c),d.Rb(m.a),d.Rb(d.o),d.Rb(p.a),d.Rb(v.a),d.Rb(a.b),d.Rb(f.d))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-login"]],decls:33,vars:30,consts:[[1,"content-wrapper","login-page"],[1,"main"],[1,"auth",3,"formGroup","ngSubmit"],[1,"auth__title"],[1,"auth__field-group"],["id","login",1,"field"],["required","","type","text","formControlName","login","autoComplete","off",1,"field__input",3,"placeholder"],["svgClass","field__icon","src","/assets/images/icons/user.svg#user"],["id","password",1,"field"],["required","","type","password","formControlName","password","autoComplete","off",1,"field__input",3,"placeholder"],["svgClass","field__icon","src","/assets/images/icons/key.svg#key"],[1,"auth__reset-pass"],["routerLink","/reset",1,"auth__link","auth__link--blue"],[1,"auth__notification"],[1,"button",3,"ngClass"],[1,"auth__note-group"],[1,"auth__note"],["routerLink","/sign-up",1,"auth__link","auth__link--blue"]],template:function(t,i){1&t&&(d.Xb(0,"div",0),d.Xb(1,"main",1),d.Xb(2,"form",2),d.ec("ngSubmit",function(){return i.Submited()}),d.Xb(3,"h2",3),d.Cc(4),d.hc(5,"translate"),d.Wb(),d.Xb(6,"div",4),d.Xb(7,"div",5),d.Sb(8,"input",6),d.hc(9,"translate"),d.Sb(10,"svg-icon",7),d.Wb(),d.Xb(11,"div",8),d.Sb(12,"input",9),d.hc(13,"translate"),d.Sb(14,"svg-icon",10),d.Wb(),d.Wb(),d.Xb(15,"div",11),d.Xb(16,"a",12),d.Cc(17),d.hc(18,"translate"),d.Wb(),d.Wb(),d.Xb(19,"div",13),d.Cc(20),d.hc(21,"async"),d.Wb(),d.Xb(22,"button",14),d.hc(23,"async"),d.Cc(24),d.hc(25,"translate"),d.Wb(),d.Xb(26,"div",15),d.Xb(27,"span",16),d.Cc(28),d.hc(29,"translate"),d.Xb(30,"a",17),d.Cc(31),d.hc(32,"translate"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Gb(2),d.mc("formGroup",i.LoginInForm),d.Gb(2),d.Ec(" ",d.ic(5,10,"\u0412\u043e\u0439\u0442\u0438")," "),d.Gb(4),d.nc("placeholder",d.ic(9,12,"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u043e\u0447\u0442\u0430")),d.Gb(4),d.nc("placeholder",d.ic(13,14,"\u041f\u0430\u0440\u043e\u043b\u044c")),d.Gb(5),d.Ec(" ",d.ic(18,16,"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),"? "),d.Gb(3),d.Ec(" ",d.ic(21,18,i.Notification)," "),d.Gb(2),d.mc("ngClass",d.qc(28,L,!1!==d.ic(23,20,i.AwaitRequest)||!i.LoginInForm.valid)),d.Gb(2),d.Ec(" ",d.ic(25,22,"\u0412\u043e\u0439\u0442\u0438")," "),d.Gb(4),d.Ec(" ",d.ic(29,24,"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),"? "),d.Gb(3),d.Ec(" ",d.ic(32,26,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")," "))},directives:[a.k,a.g,a.d,a.a,a.i,a.f,a.c,o.b,s.f,n.j],pipes:[f.c,n.b],encapsulation:2}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.Pb({type:t}),t.\u0275inj=d.Ob({imports:[[n.c,f.b,a.h,o.a.forRoot(),s.g.forChild(w)],s.g]}),t})()}}]);