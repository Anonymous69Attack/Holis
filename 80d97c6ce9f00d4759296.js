(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{vFVa:function(t,e,i){"use strict";i.r(e),i.d(e,"SignInModule",function(){return _});var s=i("tyNb"),n=i("ofXK"),a=i("3Pt+"),o=i("OFbc"),r=i("XNiG"),c=i("2Vo4"),l=i("cgPj"),h=i("IzEk"),b=i("lJxs"),u=i("4u49"),d=i("fXoL"),g=i("jhN1"),m=i("tsUD"),p=i("7/fN"),v=i("xOb2"),f=i("sYmb");const w=function(t){return{"button--disabled-click":t}},L=[{path:"",component:(()=>{class t{constructor(t,e,i,s,n,a,o){this.title=t,this.wasm=e,this.native=i,this.state=s,this.storage=n,this.formBuilder=a,this.translate=o,this.Notification=new r.a,this.MatcherFormControl=new l.a,this.AwaitRequest=new c.a(!1),this.FailedOnChange=new c.a(!1)}ngOnInit(){this.SetTitle(),this.CreateFormInit(),void 0===this.HandlleLogin&&(this.HandlleLogin=this.state.Login.subscribe(t=>this.onLOGIN(t))),void 0===this.HandlleOnchangeLangs&&(this.HandlleOnchangeLangs=this.translate.onLangChange.subscribe(()=>this.SetTitle())),this.onChanged()}onChanged(){void 0===this.HandlleLoginForm&&(this.HandlleLoginForm=this.LoginInForm.valueChanges.subscribe(t=>this.LoginInForm.hasError("required","login")?(this.SetOrRemoveErrorClass("login"),void this.Notification.next(this.storage.instant(Object(u.a)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 email")))):t.login.length<5?(this.SetOrRemoveErrorClass("login"),void this.Notification.next(this.storage.instant(Object(u.a)("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 5")))):t.login.length>64?(this.SetOrRemoveErrorClass("login"),void this.Notification.next(this.storage.instant(Object(u.a)("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 64")))):this.LoginInForm.hasError("required","password")?(this.SetOrRemoveErrorClass("password"),void this.Notification.next(this.storage.instant(Object(u.a)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")))):(this.Notification.next(""),void this.SetOrRemoveErrorClass())))}Submited(){const t=this.state.ConnectionState.pipe(Object(h.a)(1),Object(b.a)(t=>2===t));this.HandlleSendLogin=t.subscribe(t=>{t&&(this.wasm.Interact.send("Login",{email_or_username:this.LoginInForm.value.login,password:this.LoginInForm.value.password}),this.AwaitRequest.next(!0))})}onLOGIN(t){var e,i;switch(null!==(e=t.error)&&void 0!==e?e:0){case 0:case 1:this.Notification.next("");break;case 2:case 3:this.Notification.next(Object(u.a)("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"));break;case 4:const e=new Date(Date.now()+(null!==(i=null==t?void 0:t.retry_after)&&void 0!==i?i:0));this.Notification.next(this.storage.instant(Object(u.a)("\u0412\u044b \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e \u043c\u0435\u043d\u044f\u0435\u0442\u0435 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0441\u043b\u0435"),this.DateFormat(e,"%d/%m/%Y - %H:%M:%S",!0)))}this.AwaitRequest.next(!1)}ngOnDestroy(){var t,e,i,s;this.AwaitRequest.unsubscribe(),null===(t=this.HandlleLogin)||void 0===t||t.unsubscribe(),null===(e=this.HandlleSendLogin)||void 0===e||e.unsubscribe(),null===(i=this.HandlleLoginForm)||void 0===i||i.unsubscribe(),null===(s=this.HandlleOnchangeLangs)||void 0===s||s.unsubscribe()}SetOrRemoveErrorClass(t){const e="field--unvalid",i=this.native.nativeElement;if(void 0===t)return void i.querySelectorAll(`.${e}`).forEach(t=>{t.classList.contains(e)&&t.classList.remove(e)});const s=i.querySelector(`#${t}`);null==s||s.classList.contains(e)||s.classList.add(e)}CreateFormInit(){this.LoginInForm=this.formBuilder.group({login:["",this.MatcherFormControl.ValidatorLogin()],password:["",this.MatcherFormControl.ValidatorPasswordLogin]})}DateFormat(t,e,i){return i=i?"getUTC":"get",e.replace(/%[YmdHMS]/g,e=>{switch(e){case"%d":e=t[i+"Date"]();break;case"%m":e=1+t[i+"Month"]();break;case"%Y":return t[i+"FullYear"]();case"%H":e=t[i+"Hours"]();break;case"%M":e=t[i+"Minutes"]();break;case"%S":e=t[i+"Seconds"]();break;default:return e.slice(1)}return("0"+e).slice(-2)})}SetTitle(){this.title.setTitle(this.storage.instant(Object(u.a)("Octarine - \u0412\u043e\u0439\u0442\u0438")))}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(g.c),d.Qb(m.a),d.Qb(d.o),d.Qb(p.a),d.Qb(v.a),d.Qb(a.b),d.Qb(f.d))},t.\u0275cmp=d.Kb({type:t,selectors:[["app-login"]],decls:33,vars:30,consts:[[1,"content-wrapper","login-page"],[1,"main"],[1,"auth",3,"formGroup","ngSubmit"],[1,"auth__title"],[1,"auth__field-group"],["id","login",1,"field"],["required","","type","text","formControlName","login","autoComplete","off",1,"field__input",3,"placeholder"],["svgClass","field__icon","src","/assets/images/icons/user.svg#user"],["id","password",1,"field"],["required","","type","password","formControlName","password","autoComplete","off",1,"field__input",3,"placeholder"],["svgClass","field__icon","src","/assets/images/icons/key.svg#key"],[1,"auth__reset-pass"],["routerLink","/reset",1,"auth__link","auth__link--blue"],[1,"auth__notification"],[1,"button",3,"ngClass"],[1,"auth__note-group"],[1,"auth__note"],["routerLink","/sign-up",1,"auth__link","auth__link--blue"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"main",1),d.Wb(2,"form",2),d.dc("ngSubmit",function(){return e.Submited()}),d.Wb(3,"h2",3),d.zc(4),d.gc(5,"translate"),d.Vb(),d.Wb(6,"div",4),d.Wb(7,"div",5),d.Rb(8,"input",6),d.gc(9,"translate"),d.Rb(10,"svg-icon",7),d.Vb(),d.Wb(11,"div",8),d.Rb(12,"input",9),d.gc(13,"translate"),d.Rb(14,"svg-icon",10),d.Vb(),d.Vb(),d.Wb(15,"div",11),d.Wb(16,"a",12),d.zc(17),d.gc(18,"translate"),d.Vb(),d.Vb(),d.Wb(19,"div",13),d.zc(20),d.gc(21,"async"),d.Vb(),d.Wb(22,"button",14),d.gc(23,"async"),d.zc(24),d.gc(25,"translate"),d.Vb(),d.Wb(26,"div",15),d.Wb(27,"span",16),d.zc(28),d.gc(29,"translate"),d.Wb(30,"a",17),d.zc(31),d.gc(32,"translate"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Gb(2),d.lc("formGroup",e.LoginInForm),d.Gb(2),d.Bc(" ",d.hc(5,10,"\u0412\u043e\u0439\u0442\u0438")," "),d.Gb(4),d.mc("placeholder",d.hc(9,12,"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u043e\u0447\u0442\u0430")),d.Gb(4),d.mc("placeholder",d.hc(13,14,"\u041f\u0430\u0440\u043e\u043b\u044c")),d.Gb(5),d.Bc(" ",d.hc(18,16,"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),"? "),d.Gb(3),d.Bc(" ",d.hc(21,18,e.Notification)," "),d.Gb(2),d.lc("ngClass",d.pc(28,w,!1!==d.hc(23,20,e.AwaitRequest)||!e.LoginInForm.valid)),d.Gb(2),d.Bc(" ",d.hc(25,22,"\u0412\u043e\u0439\u0442\u0438")," "),d.Gb(4),d.Bc(" ",d.hc(29,24,"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),"? "),d.Gb(3),d.Bc(" ",d.hc(32,26,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")," "))},directives:[a.k,a.g,a.d,a.a,a.i,a.f,a.c,o.b,s.f,n.j],pipes:[f.c,n.b],encapsulation:2}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({imports:[[n.c,f.b,a.h,o.a.forRoot(),s.g.forChild(L)],s.g]}),t})()}}]);